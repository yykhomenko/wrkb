# wrkb

WRK benchmark load HTTP requests and pick stats.
After benchmarks done it prints bench results.

```
go run ./cmd/... main http://127.0.0.1/

or

go build ./cmd/...
./wrkb pico-http  http://127.0.0.1:8082/
```

also possible use RANDI64 function it replaces to random number
```
./wrkb hashes http://127.0.0.1:8080/hashes/__RANDI64_380670000001_380679999999__

./wrkb hashes http://127.0.0.1:8080/hashes/380670000001
```

where 'main' is target local process name

```
Process "pico-http" starts with:
cpu: 0.005858
threads: 2
mem: 2.4 MB
disk: 220 kB

┌────┬──────┬──────────┬────────┬────────┬────────┬───────┬─────┬────┬───────┐
│conn│   rps│   latency│    good|     bad|     err|   body|  cpu│ thr│    mem│
├────┼──────┼──────────┼────────┼────────┼────────┼───────┼─────┼────┼───────┤
│   1│ 59851│  16.708µs│   58958|       0|       0| 766 kB| 0.29│   2│ 3.2 MB│
│   2│111888│  17.874µs│  110398|       0|       0| 1.4 MB| 0.52│   2│ 4.8 MB│
│   3│161303│  18.598µs│  159314|       0|       0| 2.1 MB| 0.58│   2│ 6.7 MB│
│   4│193874│  20.631µs│  191800|       0|       0| 2.5 MB| 0.61│   2│ 7.1 MB│
│   5│207909│  24.048µs│  205992|       0|       0| 2.7 MB| 0.62│   2│ 7.2 MB│
│   6│226364│  26.505µs│  224549|       0|       0| 2.9 MB| 0.67│   2│ 7.3 MB│
│   7│243862│  28.704µs│  241695|       0|       0| 3.1 MB| 0.73│   2│ 7.4 MB│
│   8│245731│  32.555µs│  243813|       0|       0| 3.2 MB| 0.75│   2│ 7.5 MB│
│   9│261022│  34.479µs│  259208|       0|       0| 3.4 MB| 0.77│   2│ 7.6 MB│
│  10│268466│  37.248µs│  267007|       0|       0| 3.5 MB| 0.80│   2│ 7.7 MB│
│  12│272936│  43.966µs│  271665|       0|       0| 3.5 MB| 0.82│   2│ 7.8 MB│
│  16│270067│  59.244µs│  268846|       0|       0| 3.5 MB| 0.81│   2│ 8.0 MB│
│  32│289638│ 110.482µs│  289021|       0|       0| 3.8 MB| 0.84│   2│ 8.3 MB│
│  64│290635│ 220.206µs│  290168|       0|       0| 3.8 MB| 0.83│   2│ 9.1 MB│
│ 128│280228│  456.77µs│  280125|       0|       0| 3.6 MB| 0.84│   2│  11 MB│
└────┴──────┴──────────┴────────┴────────┴────────┴───────┴─────┴────┴───────┘

Best: 12, rps: 272936, latency: 43.966µs
```
